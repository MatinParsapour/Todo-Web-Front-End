<div class="main">
  <div class="container">
    <span @fade>Welcome</span>
    <app-sign-in></app-sign-in>
    <form class="logInForm" [formGroup]="user">
      <div class="input">
        <mat-form-field @fade appearance="outline">
          <mat-label>Username</mat-label>
          <input [formControl]="username" matInput autocomplete="off">
          <mat-error *ngIf="username.invalid">{{getUsernameErrorMessages()}}</mat-error>
        </mat-form-field>
        <span @fade class="forget">Forget username?</span>
      </div>
      <div class="input">
        <mat-form-field @fade appearance="outline">
          <mat-label>Password</mat-label>
          <input [formControl]="password" matInput autocomplete="off" type="password">
          <mat-error *ngIf="password.invalid">{{getPasswordErrorMessages()}}</mat-error>
        </mat-form-field>
        <span @fade class="forget" (click)="openForgetPassword()">Forget password?</span>
      </div>
      <ngx-recaptcha2 @fade #captchaElem [siteKey]="siteKey" [formControl]="recaptcha">
      </ngx-recaptcha2>
      <button @fade [disabled]="user.invalid || isLoading" [class.spinner]="isLoading" (click)="login()"
        mat-raised-button color="primary">Login</button>
    </form>
    <div @fade class="d-flex justify-content-center links">
      Don't have an account? <a color="primary" routerLink="/register"> Sign Up</a>
    </div>
  </div>

  <mat-card @fade class="popup" *ngIf="displayPopup">
    <img
      src="https://img.icons8.com/external-justicon-lineal-color-justicon/64/000000/external-block-notifications-justicon-lineal-color-justicon.png" />
    <p> Your account has been blocked </p>
    <p>
      You can contact support
    </p>
    <a href="mailto:matin.parsapour.iam@example.com">matin.parsapour.iam@gmail.com</a>
  </mat-card>
</div>
